var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _react=_interopRequireWildcard(require("react"));var _Portal=_interopRequireDefault(require("./Portal"));var _warnIfDeprecated=_interopRequireDefault(require("../utils/warnIfDeprecated"));var _dec,_class,_class2,_temp,_jsxFileName="/Users/linji/Documents/workspace/zarm/zarm/components/popup/index.tsx";var Popup=(_dec=(0,_warnIfDeprecated.default)([{oldProp:'getContainer',newProp:'mountContainer'}]),_dec(_class=(_temp=_class2=function(_PureComponent){(0,_inherits2.default)(Popup,_PureComponent);(0,_createClass2.default)(Popup,null,[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){if(props.visible!==state.portalVisible){if(props.visible){return{renderPortal:true,portalVisible:true};}return{portalVisible:false};}return null;}}]);function Popup(props){var _this;(0,_classCallCheck2.default)(this,Popup);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Popup).call(this,props));_this.state={renderPortal:false,portalVisible:false};_this.handlePortalUnmount=_this.handlePortalUnmount.bind((0,_assertThisInitialized2.default)(_this));return _this;}(0,_createClass2.default)(Popup,[{key:"componentDidMount",value:function componentDidMount(){var visible=this.props.visible;if(visible){this.setState({renderPortal:true,portalVisible:true});}}},{key:"handlePortalUnmount",value:function handlePortalUnmount(){var destroy=this.props.destroy;if(destroy){this.setState({renderPortal:false});}else{this.setState({renderPortal:true,portalVisible:false});}}},{key:"render",value:function render(){var _this2=this;var _this$state=this.state,renderPortal=_this$state.renderPortal,portalVisible=_this$state.portalVisible;return renderPortal&&_react.default.createElement(_Portal.default,(0,_extends2.default)({ref:function ref(_ref){_this2.portalRef=_ref;}},this.props,{visible:portalVisible,handlePortalUnmount:this.handlePortalUnmount,__self:this,__source:{fileName:_jsxFileName,lineNumber:72}}));}}]);return Popup;}(_react.PureComponent),_class2.defaultProps={prefixCls:'za-popup',destroy:true},_temp))||_class);exports.default=Popup;